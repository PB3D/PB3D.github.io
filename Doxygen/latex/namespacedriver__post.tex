\doxysection{driver\+\_\+post Module Reference}
\hypertarget{namespacedriver__post}{}\label{namespacedriver__post}\index{driver\_post@{driver\_post}}


Main driver of Post\+Processing of program Peeling Ballooning in 3D.  


\doxysubsubsection*{Functions/\+\+Subroutines}
\begin{DoxyCompactItemize}
\item 
integer function, public \doxymbox{\hyperlink{namespacedriver__post_af527706d4e696d4e507443d2f74194ef}{init\+\_\+post}} ()
\begin{DoxyCompactList}\small\item\em Initializes the POST driver. \end{DoxyCompactList}\item 
integer function, public \doxymbox{\hyperlink{namespacedriver__post_a33b3c6f9018a0ddc92dce77394b8ab37}{run\+\_\+driver\+\_\+post}} ()
\begin{DoxyCompactList}\small\item\em The main driver routine for postprocessing. \end{DoxyCompactList}\item 
subroutine, public \doxymbox{\hyperlink{namespacedriver__post_a71f9fb1935222111e1c7cfc15c5d0269}{stop\+\_\+post}} ()
\begin{DoxyCompactList}\small\item\em Cleans up main driver for postprocessing. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Main driver of Post\+Processing of program Peeling Ballooning in 3D. 

\label{doc-func-members}
\Hypertarget{namespacedriver__post_doc-func-members}
\doxysubsection{Function/\+\+Subroutine Documentation}
\Hypertarget{namespacedriver__post_af527706d4e696d4e507443d2f74194ef}\index{driver\_post@{driver\_post}!init\_post@{init\_post}}
\index{init\_post@{init\_post}!driver\_post@{driver\_post}}
\doxysubsubsection{\texorpdfstring{init\_post()}{init\_post()}}
{\footnotesize\ttfamily \label{namespacedriver__post_af527706d4e696d4e507443d2f74194ef} 
integer function, public driver\+\_\+post::\+init\+\_\+post}



Initializes the POST driver. 


\begin{DoxyItemize}
\item set up preliminary variables
\begin{DoxyItemize}
\item global variables
\item read grids (full)
\item {\ttfamily eq\+\_\+1} (full) and {\ttfamily n} \& {\ttfamily m} (full)
\end{DoxyItemize}
\item set up output grids:\+
\begin{DoxyItemize}
\item {\ttfamily  POST\+\_\+style = 1}:\+ extended grid
\item {\ttfamily  POST\+\_\+style = 2}:\+ field-\/aligned grid
\end{DoxyItemize}
\item clean up
\item set up final variables
\begin{DoxyItemize}
\item normal limits
\item read grids (divided), {\ttfamily eq\+\_\+1} (divided) and {\ttfamily sol} (divided) variables
\end{DoxyItemize}
\item 1-\/D output plots
\begin{DoxyItemize}
\item resonance plot
\item flux quantities plot
\item magnetic grid plot
\end{DoxyItemize}
\item prepare Eigenvalue plots
\begin{DoxyItemize}
\item calculates resonant surfaces
\item plots Eigenvalues
\item finds stability ranges for all Eigenvalues to be plot
\item plots harmonics for every Eigenvalue
\item calculates the parallel ranges of the equilibrium jobs
\end{DoxyItemize}
\item clean up
\end{DoxyItemize}

In the actual driver, more detailed plots are possibly made for all requested Eigenvalues if {\ttfamily full\+\_\+output}.

\begin{DoxyReturn}{Returns}
ierr 
\end{DoxyReturn}


Definition at line \doxymbox{\hyperlink{driver__POST_8f90_source_l00076}{76}} of file \doxymbox{\hyperlink{driver__POST_8f90_source}{driver\+\_\+\+POST.\+f90}}.

Here is the call graph for this function:\+\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacedriver__post_af527706d4e696d4e507443d2f74194ef_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function:\+\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacedriver__post_af527706d4e696d4e507443d2f74194ef_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedriver__post_a33b3c6f9018a0ddc92dce77394b8ab37}\index{driver\_post@{driver\_post}!run\_driver\_post@{run\_driver\_post}}
\index{run\_driver\_post@{run\_driver\_post}!driver\_post@{driver\_post}}
\doxysubsubsection{\texorpdfstring{run\_driver\_post()}{run\_driver\_post()}}
{\footnotesize\ttfamily \label{namespacedriver__post_a33b3c6f9018a0ddc92dce77394b8ab37} 
integer function, public driver\+\_\+post::\+run\+\_\+driver\+\_\+post}



The main driver routine for postprocessing. 

\begin{DoxyNote}{Note}
The PB3D output is given on different grids for different styles of the equilibrium model:\+
\begin{DoxyItemize}
\item VMEC:\+ field-\/aligned grid on which EV problem has been solved.
\item HELENA:\+ output grid on which equilibrium and metric variables are tabulated.
\end{DoxyItemize}
\end{DoxyNote}
Furthermore, if Richardson extrapolation is used, the VMEC grids and variables are contained in multiple HDF5 variables. These variables are needed here both in a field-\/aligned and a plot grid.

A consequence of the above is that for VMEC the field-\/aligned output is already given, but the output on the plot grid has to be calculated from scratch, while for HELENA both outputs have to be interpolated from the output tables.

The general workflow is as follows:\+
\begin{DoxyItemize}
\item take a subset of the output grids for the current equilibrium job.
\item for {\ttfamily POST\+\_\+style = 1} (extended grid):\+
\begin{DoxyItemize}
\item VMEC:\+ recalculate variables
\item HEL:\+ interpolate variables for {\ttfamily POST\+\_\+style = 2} (B-\/aligned grid):\+
\item VMEC:\+ read subset of variables
\item HEL:\+ interpolate variables
\end{DoxyItemize}
\item create helper variables
\item create plots and outputs
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
ierr 
\end{DoxyReturn}


Definition at line \doxymbox{\hyperlink{driver__POST_8f90_source_l00541}{541}} of file \doxymbox{\hyperlink{driver__POST_8f90_source}{driver\+\_\+\+POST.\+f90}}.

Here is the call graph for this function:\+\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacedriver__post_a33b3c6f9018a0ddc92dce77394b8ab37_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function:\+\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacedriver__post_a33b3c6f9018a0ddc92dce77394b8ab37_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedriver__post_a71f9fb1935222111e1c7cfc15c5d0269}\index{driver\_post@{driver\_post}!stop\_post@{stop\_post}}
\index{stop\_post@{stop\_post}!driver\_post@{driver\_post}}
\doxysubsubsection{\texorpdfstring{stop\_post()}{stop\_post()}}
{\footnotesize\ttfamily \label{namespacedriver__post_a71f9fb1935222111e1c7cfc15c5d0269} 
subroutine, public driver\+\_\+post::\+stop\+\_\+post}



Cleans up main driver for postprocessing. 



Definition at line \doxymbox{\hyperlink{driver__POST_8f90_source_l00815}{815}} of file \doxymbox{\hyperlink{driver__POST_8f90_source}{driver\+\_\+\+POST.\+f90}}.

Here is the call graph for this function:\+\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacedriver__post_a71f9fb1935222111e1c7cfc15c5d0269_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function:\+\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacedriver__post_a71f9fb1935222111e1c7cfc15c5d0269_icgraph}
\end{center}
\end{figure}

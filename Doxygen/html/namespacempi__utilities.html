<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PB3D: mpi_utilities Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PB3D
   &#160;<span id="projectnumber">[2.29]</span>
   </div>
   <div id="projectbrief">Ideal linear high-n MHD stability in 3-D</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Interfaces and Types</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">mpi_utilities Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Numerical utilities related to MPI.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Interfaces and Types</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacempi__utilities_1_1broadcast__var.html">broadcast_var</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper function to broadcast a single variable using MPI.  <a href="interfacempi__utilities_1_1broadcast__var.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacempi__utilities_1_1get__ghost__arr.html">get_ghost_arr</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill the ghost regions in an array.  <a href="interfacempi__utilities_1_1get__ghost__arr.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacempi__utilities_1_1get__ser__var.html">get_ser_var</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gather parallel variable in serial version on group master.  <a href="interfacempi__utilities_1_1get__ser__var.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a128702990bd5fddc582e8fabcffc82b2"><td class="memItemLeft" align="right" valign="top">integer function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#a128702990bd5fddc582e8fabcffc82b2">redistribute_var</a> (var, dis_var, lims, lims_dis)</td></tr>
<tr class="memdesc:a128702990bd5fddc582e8fabcffc82b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redistribute variables according to new limits.  <a href="#a128702990bd5fddc582e8fabcffc82b2">More...</a><br /></td></tr>
<tr class="separator:a128702990bd5fddc582e8fabcffc82b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790ea24d32dd0e249541c1e57cd85536"><td class="memItemLeft" align="right" valign="top">integer function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#a790ea24d32dd0e249541c1e57cd85536">wait_mpi</a> ()</td></tr>
<tr class="memdesc:a790ea24d32dd0e249541c1e57cd85536"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for all processes, wrapper to MPI barrier.  <a href="#a790ea24d32dd0e249541c1e57cd85536">More...</a><br /></td></tr>
<tr class="separator:a790ea24d32dd0e249541c1e57cd85536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a789d05be41d6109c01f46cc98620c8"><td class="memItemLeft" align="right" valign="top">integer function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#a5a789d05be41d6109c01f46cc98620c8">lock_req_acc</a> (lock, blocking)</td></tr>
<tr class="memdesc:a5a789d05be41d6109c01f46cc98620c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request access to lock of a BL (blocking) or optionally a NB (non-blocking) type.  <a href="#a5a789d05be41d6109c01f46cc98620c8">More...</a><br /></td></tr>
<tr class="separator:a5a789d05be41d6109c01f46cc98620c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f9982a0f92b51a916f832d9a3d8ba9"><td class="memItemLeft" align="right" valign="top">integer function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#a86f9982a0f92b51a916f832d9a3d8ba9">lock_return_acc</a> (lock)</td></tr>
<tr class="memdesc:a86f9982a0f92b51a916f832d9a3d8ba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns access to a lock.  <a href="#a86f9982a0f92b51a916f832d9a3d8ba9">More...</a><br /></td></tr>
<tr class="separator:a86f9982a0f92b51a916f832d9a3d8ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74e2e82b561f403ca8087c3925f76e29"><td class="memItemLeft" align="right" valign="top">logical function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#a74e2e82b561f403ca8087c3925f76e29">wl_empty</a> (wl, proc_type, next_procs)</td></tr>
<tr class="memdesc:a74e2e82b561f403ca8087c3925f76e29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decides whether a waiting list is empty.  <a href="#a74e2e82b561f403ca8087c3925f76e29">More...</a><br /></td></tr>
<tr class="separator:a74e2e82b561f403ca8087c3925f76e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263a30c79639d97f5faffdb566b5a811"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#a263a30c79639d97f5faffdb566b5a811">lock_notify</a> (lock_loc, rec_rank)</td></tr>
<tr class="memdesc:a263a30c79639d97f5faffdb566b5a811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies a rank that they can get the lock.  <a href="#a263a30c79639d97f5faffdb566b5a811">More...</a><br /></td></tr>
<tr class="separator:a263a30c79639d97f5faffdb566b5a811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17c39b0498528e2532c8347b0b7dec86"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#a17c39b0498528e2532c8347b0b7dec86">lock_get_notified</a> (lock_loc)</td></tr>
<tr class="memdesc:a17c39b0498528e2532c8347b0b7dec86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get notified that the rank can get the lock.  <a href="#a17c39b0498528e2532c8347b0b7dec86">More...</a><br /></td></tr>
<tr class="separator:a17c39b0498528e2532c8347b0b7dec86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0349e5ec825e14083e3126c3e7ba65"><td class="memItemLeft" align="right" valign="top">integer function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#a3b0349e5ec825e14083e3126c3e7ba65">lock_wl_change</a> (wl_action, blocking, lock_loc, wl, ranks)</td></tr>
<tr class="memdesc:a3b0349e5ec825e14083e3126c3e7ba65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds, removes or sets to active a rank from the waiting list for a lock and returns the lock waiting list:  <a href="#a3b0349e5ec825e14083e3126c3e7ba65">More...</a><br /></td></tr>
<tr class="separator:a3b0349e5ec825e14083e3126c3e7ba65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe5bf3ae3b6a06eda18c2f4d62ac09c5"><td class="memItemLeft" align="right" valign="top">character(len=max_str_ln) function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#abe5bf3ae3b6a06eda18c2f4d62ac09c5">lock_header</a> (lock_loc)</td></tr>
<tr class="memdesc:abe5bf3ae3b6a06eda18c2f4d62ac09c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the header for lock debug messages.  <a href="#abe5bf3ae3b6a06eda18c2f4d62ac09c5">More...</a><br /></td></tr>
<tr class="separator:abe5bf3ae3b6a06eda18c2f4d62ac09c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a98291c400747762ea4e3f0d751c5d5f5"><td class="memItemLeft" align="right" valign="top">logical, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#a98291c400747762ea4e3f0d751c5d5f5">debug_lock</a> = .false.</td></tr>
<tr class="memdesc:a98291c400747762ea4e3f0d751c5d5f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">print debug information about lock operations  <a href="#a98291c400747762ea4e3f0d751c5d5f5">More...</a><br /></td></tr>
<tr class="separator:a98291c400747762ea4e3f0d751c5d5f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a87fa6a7efbd985592bbef4750f02b"><td class="memItemLeft" align="right" valign="top">integer, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempi__utilities.html#a38a87fa6a7efbd985592bbef4750f02b">n_waits</a> = 0</td></tr>
<tr class="memdesc:a38a87fa6a7efbd985592bbef4750f02b"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of waits  <a href="#a38a87fa6a7efbd985592bbef4750f02b">More...</a><br /></td></tr>
<tr class="separator:a38a87fa6a7efbd985592bbef4750f02b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Numerical utilities related to MPI. </p>
<p>This includes a lock system, which can be both BL (blocking) or NB (non-blocking). It is based on the implementation of an MPI-IO atomic mode without file support, described in <a class="el" href="citelist.html#CITEREF_RossAtomicIO">[13]</a>.</p>
<dl class="section see"><dt>See also</dt><dd>See <a class="el" href="namespacempi__vars.html" title="Variables pertaining to MPI. ">mpi_vars</a>.</dd></dl>
<p>The reason for this was the fact that using a simple lock file can lead to crashes.</p>
<dl class="section note"><dt>Note</dt><dd>A downside of this method is that in some rare cases a deadlock may occur as the master process, which contains the shared variable with a window that other processes may use, is idle and waiting, whereas the others are still performing lock options. As the master is idle and waiting, its MPI asynchronous communication is not performed. To remedy this, just call wait_MPI() after procedures where lock operations are performed. </dd></dl>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a17c39b0498528e2532c8347b0b7dec86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17c39b0498528e2532c8347b0b7dec86">&#9670;&nbsp;</a></span>lock_get_notified()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function mpi_utilities::lock_get_notified </td>
          <td>(</td>
          <td class="paramtype">type(lock_type), intent(in)&#160;</td>
          <td class="paramname"><em>lock_loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get notified that the rank can get the lock. </p>
<dl class="section note"><dt>Note</dt><dd>Based on <a class="el" href="citelist.html#CITEREF_RossAtomicIO">[13]</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ierr</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_loc</td><td>lock </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l01063">1063</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a17c39b0498528e2532c8347b0b7dec86_cgraph.svg" width="647" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a17c39b0498528e2532c8347b0b7dec86_icgraph.svg" width="1896" height="1476"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abe5bf3ae3b6a06eda18c2f4d62ac09c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe5bf3ae3b6a06eda18c2f4d62ac09c5">&#9670;&nbsp;</a></span>lock_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">character(len=max_str_ln) function, public mpi_utilities::lock_header </td>
          <td>(</td>
          <td class="paramtype">type(lock_type), intent(in)&#160;</td>
          <td class="paramname"><em>lock_loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the header for lock debug messages. </p>
<dl class="section note"><dt>Note</dt><dd>Debug version only</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_loc</td><td>lock </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l01217">1217</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_abe5bf3ae3b6a06eda18c2f4d62ac09c5_cgraph.svg" width="424" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_abe5bf3ae3b6a06eda18c2f4d62ac09c5_icgraph.svg" width="2119" height="1554"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a263a30c79639d97f5faffdb566b5a811"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263a30c79639d97f5faffdb566b5a811">&#9670;&nbsp;</a></span>lock_notify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function mpi_utilities::lock_notify </td>
          <td>(</td>
          <td class="paramtype">type(lock_type), intent(in)&#160;</td>
          <td class="paramname"><em>lock_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>rec_rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notifies a rank that they can get the lock. </p>
<p>The signal sent is the rank + 1.</p>
<dl class="section note"><dt>Note</dt><dd>Based on <a class="el" href="citelist.html#CITEREF_RossAtomicIO">[13]</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ierr</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_loc</td><td>lock</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec_rank</td><td>receiving rank </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l01031">1031</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a263a30c79639d97f5faffdb566b5a811_cgraph.svg" width="647" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a263a30c79639d97f5faffdb566b5a811_icgraph.svg" width="1896" height="1482"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5a789d05be41d6109c01f46cc98620c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a789d05be41d6109c01f46cc98620c8">&#9670;&nbsp;</a></span>lock_req_acc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function, public mpi_utilities::lock_req_acc </td>
          <td>(</td>
          <td class="paramtype">type(lock_type), intent(inout)&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>blocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request access to lock of a BL (blocking) or optionally a NB (non-blocking) type. </p>
<dl class="section note"><dt>Note</dt><dd>Based on <a class="el" href="citelist.html#CITEREF_RossAtomicIO">[13]</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ierr </dd></dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l00765">765</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a5a789d05be41d6109c01f46cc98620c8_cgraph.svg" width="918" height="304"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a5a789d05be41d6109c01f46cc98620c8_icgraph.svg" width="1674" height="1476"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a86f9982a0f92b51a916f832d9a3d8ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f9982a0f92b51a916f832d9a3d8ba9">&#9670;&nbsp;</a></span>lock_return_acc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function, public mpi_utilities::lock_return_acc </td>
          <td>(</td>
          <td class="paramtype">type(lock_type), intent(inout)&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns access to a lock. </p>
<p>The blocking property has been set when requesting the lock.</p>
<dl class="section note"><dt>Note</dt><dd>Based on <a class="el" href="citelist.html#CITEREF_RossAtomicIO">[13]</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ierr </dd></dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l00872">872</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a86f9982a0f92b51a916f832d9a3d8ba9_cgraph.svg" width="918" height="207"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a86f9982a0f92b51a916f832d9a3d8ba9_icgraph.svg" width="1674" height="1476"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3b0349e5ec825e14083e3126c3e7ba65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b0349e5ec825e14083e3126c3e7ba65">&#9670;&nbsp;</a></span>lock_wl_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function, public mpi_utilities::lock_wl_change </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>wl_action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>blocking</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(lock_type), intent(inout)&#160;</td>
          <td class="paramname"><em>lock_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(inout), allocatable&#160;</td>
          <td class="paramname"><em>wl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>ranks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds, removes or sets to active a rank from the waiting list for a lock and returns the lock waiting list: </p>
<p>Actions:</p><ul>
<li><code>wl_action</code> = 0: remove</li>
<li><code>wl_action</code> = 1: add</li>
<li><code>wl_action</code> = 2: active</li>
</ul>
<p>Or negative equivalents for non-blocking (NB) procs.</p>
<p>Optionally, the rank(s) of the process for which to perform this action can be passed. This is useful for doing the same action on multiple processes.</p>
<dl class="section note"><dt>Note</dt><dd>Based on <a class="el" href="citelist.html#CITEREF_RossAtomicIO">[13]</a>.</dd>
<dd>
Debug version only</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ierr</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">wl_action</td><td>action to perform</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blocking</td><td>the ranks to be changed are blocking</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">lock_loc</td><td>lock</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">wl</td><td>waiting list</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ranks</td><td>rank(s) for which to perform option </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l01111">1111</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a3b0349e5ec825e14083e3126c3e7ba65_cgraph.svg" width="663" height="130"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a3b0349e5ec825e14083e3126c3e7ba65_icgraph.svg" width="1896" height="1519"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a128702990bd5fddc582e8fabcffc82b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a128702990bd5fddc582e8fabcffc82b2">&#9670;&nbsp;</a></span>redistribute_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function, public mpi_utilities::redistribute_var </td>
          <td>(</td>
          <td class="paramtype">real(dp), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:), intent(inout)&#160;</td>
          <td class="paramname"><em>dis_var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(2), intent(in)&#160;</td>
          <td class="paramname"><em>lims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(2), intent(in)&#160;</td>
          <td class="paramname"><em>lims_dis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redistribute variables according to new limits. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var</td><td>parallel vector</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dis_var</td><td>redistributed vector</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lims</td><td>indices of parallel vector</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lims_dis</td><td>indices of redistributed parallel vector </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l00330">330</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a128702990bd5fddc582e8fabcffc82b2_icgraph.svg" width="926" height="411"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a790ea24d32dd0e249541c1e57cd85536"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790ea24d32dd0e249541c1e57cd85536">&#9670;&nbsp;</a></span>wait_mpi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function, public mpi_utilities::wait_mpi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for all processes, wrapper to MPI barrier. </p>
<dl class="section return"><dt>Returns</dt><dd>ierr </dd></dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l00744">744</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a790ea24d32dd0e249541c1e57cd85536_icgraph.svg" width="1722" height="720"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a74e2e82b561f403ca8087c3925f76e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74e2e82b561f403ca8087c3925f76e29">&#9670;&nbsp;</a></span>wl_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">logical function mpi_utilities::wl_empty </td>
          <td>(</td>
          <td class="paramtype">integer, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>wl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>proc_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(inout), optional, allocatable&#160;</td>
          <td class="paramname"><em>next_procs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decides whether a waiting list is empty. </p>
<p>The type of process to find is indicated by an array of possible values.</p>
<dl class="section see"><dt>See also</dt><dd>See <a class="el" href="namespacempi__utilities.html#a3b0349e5ec825e14083e3126c3e7ba65" title="Adds, removes or sets to active a rank from the waiting list for a lock and returns the lock waiting ...">lock_wl_change()</a> for an explanation of the process type.</dd></dl>
<p>Additionally, for NB processes, the negative inverse of these values are used.</p>
<p>If the waiting list is not empty, the next process(es) can optionally be returned.</p>
<dl class="section note"><dt>Note</dt><dd>Based on <a class="el" href="citelist.html#CITEREF_RossAtomicIO">[13]</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ierr</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">wl</td><td>waiting list</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">proc_type</td><td>types of processes accepted</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">next_procs</td><td>next process(es) if not empty </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l00985">985</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacempi__utilities_a74e2e82b561f403ca8087c3925f76e29_icgraph.svg" width="1928" height="1482"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a98291c400747762ea4e3f0d751c5d5f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98291c400747762ea4e3f0d751c5d5f5">&#9670;&nbsp;</a></span>debug_lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">logical, public mpi_utilities::debug_lock = .false.</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print debug information about lock operations </p>
<dl class="section note"><dt>Note</dt><dd>Debug version only </dd></dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l00040">40</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>

</div>
</div>
<a id="a38a87fa6a7efbd985592bbef4750f02b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38a87fa6a7efbd985592bbef4750f02b">&#9670;&nbsp;</a></span>n_waits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer, public mpi_utilities::n_waits = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>number of waits </p>
<dl class="section note"><dt>Note</dt><dd>Debug version only </dd></dl>

<p class="definition">Definition at line <a class="el" href="MPI__utilities_8f90_source.html#l00041">41</a> of file <a class="el" href="MPI__utilities_8f90_source.html">MPI_utilities.f90</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<address class="footer"><small>
<center>this documentation was created with <a href="http://www.doxygen.org/index.html">Doxygen 1.8.13</a> by <a href="mailto:weyenst@gmail.com">Toon Weyens</a></center>
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PB3D: Input variables</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PB3D<span id="projectnumber">&#160;[2.47]</span>
   </div>
   <div id="projectbrief">Ideal linear high-n MHD stability in 3-D</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Input variables </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#inputs_PB3D">PB3D Inputs </a>
    <ul>
      <li class="level2">
        <a href="#inputs_PB3D_file">Input file </a>
      </li>
      <li class="level2">
        <a href="#inputs_PB3D_cmd">Command-line inputs </a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#inputs_POST">POST Inputs </a>
    <ul>
      <li class="level2">
        <a href="#inputs_POST_file">Input file </a>
      </li>
      <li class="level2">
        <a href="#inputs_POST_cmd">Command-line inputs </a>
      </li>
    </ul>
  </li>
</ul>
</div>
<div class="textblock"><p></p>
<p>This page describes the various input variables that PB3D and POST can take.</p>
<p>Inputs are generally done through the input file, but there are some inputs that are provided on runtime, using the command-line with <span class="tt">&ndash;[option_name]</span> format. </p><dl class="section see"><dt>See also</dt><dd>See init_files().</dd></dl>
<p>For both PB3D and POST, both types are discussed.</p>
<p>Some general remarks:</p><ul>
<li>There is some fault detection built into the routines. These distinguish between minor faults, that trigger a warning but do not stop execution, and major faults, that trigger an error that stop execution. <dl class="section see"><dt>See also</dt><dd>See writo().</dd></dl>
</li>
<li>The data type <code>real</code> refers to double precision real, defined by <a class="el" href="namespacenum__vars.html#a03802aa2bd86439d7a9370836fabf3f2" title="double precision">num_vars.dp</a>. For integers, standard precision is used.</li>
<li>There are hard-coded <code>min_tol</code> and <code>max_tol</code> in read_input_opts(), which are used to limit the tolerances <code>tol_rich</code>, <code>tol_zero</code> and <code>tol_SLEPC</code>. This could be changed if needed.</li>
<li>If <span class="tt">eq_style = 2</span> (i.e. HELENA), the total maximum memory available must be enough to perform the first Richardson level in a single equilibrium job (see <a class="el" href="page_overview.html" title="General code structure">General code structure</a>).</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="inputs_PB3D"></a>
PB3D Inputs</h1>
<h2 class="doxsection"><a class="anchor" id="inputs_PB3D_file"></a>
Input file</h2>
<a class="anchor" id="inputs_PB3D_file_tab"></a>
<table class="doxtable">
<caption>Table 1. PB3D input file</caption>
<tr>
<th>input parameter </th><th>explanation </th><th>default value </th><th>data type </th><th>note </th></tr>
<tr>
<td colspan="5" bgcolor="LightGray" align="center"><b>concerning solution</b> </td></tr>
<tr>
<td><code>n_r_sol</code> </td><td>number of points in solution grid </td><td>\( 100\) </td><td><code>int</code> </td><td></td></tr>
<tr>
<td><code>min_r_sol</code> </td><td>minimum normalized flux of computational domain \(\left(0\ldots 1\right)\) </td><td>\(0.1\) </td><td><code>real</code> </td><td>(<a class="el" href="#fni1" title="fni1">1</a>) </td></tr>
<tr>
<td><code>max_r_sol</code> </td><td>maximum normalized flux of computational domain \(\left(0\ldots 1\right)\) </td><td>\(1.0\) </td><td><code>real</code> </td><td>(<a class="el" href="#fni1" title="fni1">1</a>) </td></tr>
<tr>
<td><code>tol_norm</code> </td><td>tolerance for normal range </td><td>\(0.05\) </td><td><code>real</code> </td><td>(<a class="el" href="#fni2" title="fni2">2</a>) </td></tr>
<tr>
<td><code>EV_style</code> </td><td>style for EV calculation: <table class="doxtable">
<tr>
<td>\(1\)</td><td>SLEPC solver</td></tr>
</table>
<br  />
 </td><td>\(1\) </td><td><code>int</code> </td><td></td></tr>
<tr>
<td colspan="5" bgcolor="LightGray" align="center"><b>concerning field line</b> </td></tr>
<tr>
<td><code>alpha_style</code> </td><td>style for alpha: <table class="doxtable">
<tr>
<td>\(1\)</td><td>one field line, many turns</td></tr>
<tr>
<td>\(2\)</td><td>many field lines, one turn</td></tr>
</table>
<br  />
 </td><td>\(2\) (VMEC), \(1\) (HELENA) </td><td><code>int</code> </td><td></td></tr>
<tr>
<td><code>n_alpha</code> </td><td>number of field lines for <code>alpha_style</code> \(2\) </td><td>\(10\) (VMEC) </td><td><code>int</code> </td><td></td></tr>
<tr>
<td><code>alpha</code> </td><td>field line label \(\left[\pi\right]\) for <code>alpha_style</code> \(1\) </td><td>\(0\) </td><td><code>real</code> </td><td></td></tr>
<tr>
<td><code>min_alpha</code> </td><td>minimum field line label \(\alpha\) \(\left[\pi\right]\) for <code>alpha_style</code> \(2\) </td><td>\(0\) </td><td><code>int</code> </td><td></td></tr>
<tr>
<td><code>max_alpha</code> </td><td>maximum field line label \(\alpha\) \(\left[\pi\right]\) for <code>alpha_style</code> \(2\) </td><td>\(2\) </td><td></td></tr>
</table>
<p><code> int</code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
    </code></p>
<p><code> <b>concerning perturbation</b>  </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>min_n_par_X</code> </code></p>
<p><code></code></p>
<p><code> minimum number of parallel points for integration </code></p>
<p><code></code></p>
<p><code> \(20\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni3" title="fni3">3</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>min_par_X</code> </code></p>
<p><code></code></p>
<p><code> minimum parallel angle \(\left[\pi\right]\) for integration </code></p>
<p><code></code></p>
<p><code> \(-4\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_par_X</code> </code></p>
<p><code></code></p>
<p><code> maximum parallel angle \(\left[\pi\right]\) for integration </code></p>
<p><code></code></p>
<p><code> \(4\) </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>prim_X</code> </code></p>
<p><code></code></p>
<p><code> primary mode number in geodesic direction </code></p>
<p><code></code></p>
<p><code> \(20\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni4" title="fni4">4</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>min_sec_X</code> </code></p>
<p><code></code></p>
<p><code> minimum secondary mode number in parallel direction </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni4" title="fni4">4</a>, <a class="el" href="#fni5" title="fni5">5</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_sec_X</code> </code></p>
<p><code></code></p>
<p><code> maximum secondary mode number in parallel direction </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni4" title="fni4">4</a>, <a class="el" href="#fni5" title="fni5">5</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>n_mod_X</code> </code></p>
<p><code></code></p>
<p><code> number of secondary modes in parallel direction </code></p>
<p><code></code></p>
<p><code> \(20\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni4" title="fni4">4</a>, <a class="el" href="#fni5" title="fni5">5</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>use_pol_flux_F</code> </code></p>
<p><code></code></p>
<p><code> on which flux to base the normal coordinate.
        </p><table class="doxtable">
<tr>
<td><span class="tt"> .true.</span> </td><td>rescaled poloidal flux \(\frac{\Psi_\text{pol}}{2 \pi}\) </td></tr>
<tr>
<td><span class="tt"> .false.</span> </td><td>rescaled toroidal flux \(\frac{\Psi_\text{tor}}{2 \pi}\) </td></tr>
</table>
<p><br  />
 </code></p>
<p><code></code></p>
<p><code><span class="tt">.true.</span> </code></p>
<p><code></code></p>
<p><code><code>log</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni35" title="fni35">35</a>)</code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
    </code></p>
<p><code> <b>concerning normalization</b>  </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>rho_0</code> </code></p>
<p><code></code></p>
<p><code> Normalization factor for density \(\rho\) \(\frac{kg}{m^3}\) </code></p>
<p><code></code></p>
<p><code> \(10^{-7}\) </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code> </code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>R_0</code> </code></p>
<p><code></code></p>
<p><code> Normalization factor for length scale \(R\) \(m\) </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code> </code></p>
<p><code>  (<a class="el" href="#fni6" title="fni6">6</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>pres_0</code> </code></p>
<p><code></code></p>
<p><code> Normalization factor for pressure \(p\) \(Pa\) </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code> </code></p>
<p><code>  (<a class="el" href="#fni6" title="fni6">6</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>psi_0</code> </code></p>
<p><code></code></p>
<p><code> Normalization factor for flux \(\Psi\) \(T m^2\) </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code> </code></p>
<p><code>  (<a class="el" href="#fni6" title="fni6">6</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>B_0</code> </code></p>
<p><code></code></p>
<p><code> Normalization factor for magnetic field \(\vec{B}\) \(T\) </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code> </code></p>
<p><code>  (<a class="el" href="#fni6" title="fni6">6</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>T_0</code> </code></p>
<p><code></code></p>
<p><code> Normalization factor for time \(s\) </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code> </code></p>
<p><code>  (<a class="el" href="#fni6" title="fni6">6</a>)</code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
    </code></p>
<p><code> <b>concerning input and output</b>  </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>n_sol_requested</code> </code></p>
<p><code></code></p>
<p><code> number of solutions requested </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>retain_all_sol</code> </code></p>
<p><code></code></p>
<p><code> retain all solutions
        </p><table class="doxtable">
<tr>
<td><span class="tt"> .true.</span> </td><td>unphysical eigenvalues are also retained </td></tr>
<tr>
<td><span class="tt"> .false.</span> </td><td>unphysical eigenvalues are left out </td></tr>
</table>
<p><br  />
 </code></p>
<p><code></code></p>
<p><code> \(2\) </code></p>
<p><code></code></p>
<p><code><code>log</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni7" title="fni7">7</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>plot_resonance</code> </code></p>
<p><code></code></p>
<p><code> plot the safety factor (poloidal flux) or rotational transform (toroidal flux) and the resonant values </code></p>
<p><code></code></p>
<p><code> <span class="tt">.false.</span> </code></p>
<p><code></code></p>
<p><code><code>log</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni13" title="fni13">13</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>plot_magn_grid</code> </code></p>
<p><code></code></p>
<p><code> plot magnetic field lines in the flux surfaces in 3-D geometry as an animation </code></p>
<p><code></code></p>
<p><code> <span class="tt">.false.</span> </code></p>
<p><code></code></p>
<p><code><code>log</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni14" title="fni14">14</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>plot_B</code> </code></p>
<p><code></code></p>
<p><code> plot magnetic field \(\vec{B} = \nabla \alpha \times \nabla \psi \) \(\left[T\right]\) </code></p>
<p><code></code></p>
<p><code> <span class="tt">.false.</span> </code></p>
<p><code></code></p>
<p><code><code>log</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni15" title="fni15">15</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>plot_J</code> </code></p>
<p><code></code></p>
<p><code> plot current \(\vec{J} = \mu_0^{-1} \nabla \times \left(\nabla \alpha \times \nabla \psi\right) \) \(\left[\frac{A}{m^2}\right]\) </code></p>
<p><code></code></p>
<p><code> <span class="tt">.false.</span> </code></p>
<p><code></code></p>
<p><code><code>log</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni16" title="fni16">16</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>plot_kappa</code> </code></p>
<p><code></code></p>
<p><code> plot curvature \(\vec{\kappa} = \frac{\vec{B}}{B} \cdot \nabla \frac{\vec{B}}{B}\) \(\left[\frac{1}{m}\right]\) and its components \(  \kappa_n = \frac{\nabla \psi}{\left|\nabla \psi\right|^2} \cdot \vec{\kappa} \) \(\left[\frac{1}{T m^2}\right]\) and \( \kappa_g = \frac{\nabla \psi \times \vec{B}}{B^2} \cdot \vec{\kappa} \) \(\left[\phantom{\cdot}\right]\) </code></p>
<p><code></code></p>
<p><code> <span class="tt">.false.</span> </code></p>
<p><code></code></p>
<p><code><code>log</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni17" title="fni17">17</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>plot_flux_q</code> </code></p>
<p><code></code></p>
<p><code> plot flux quantities \(q\), \(\iota\), \(p\) \(\left[Pa\right]\), \(\Psi_\text{pol}\) \(\left[T m^2\right]\) and \(\Psi_\text{tor}\) \(\left[T m^2\right]\) </code></p>
<p><code></code></p>
<p><code> <span class="tt">.false.</span> </code></p>
<p><code></code></p>
<p><code><code>log</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni18" title="fni18">18</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>n_theta_plot</code> </code></p>
<p><code></code></p>
<p><code> number of points in plots in \(\theta\) direction </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni19" title="fni19">19</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>n_zeta_plot</code> </code></p>
<p><code></code></p>
<p><code> number of points in plots in \(\zeta\) direction </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni19" title="fni19">19</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>min_theta_plot</code> </code></p>
<p><code></code></p>
<p><code> minimum of \(\theta\) range for plots </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code> \(1\)</code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_theta_plot</code> </code></p>
<p><code></code></p>
<p><code> minimum of \(\theta\) range for plots </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code> \(3\)</code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>min_zeta_plot</code> </code></p>
<p><code></code></p>
<p><code> minimum of \(\zeta\) range for plots </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni20" title="fni20">20</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_zeta_plot</code> </code></p>
<p><code></code></p>
<p><code> minimum of \(\zeta\) range for plots </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni20" title="fni20">20</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>plot_size</code> </code></p>
<p><code></code></p>
<p><code> size of 2-D plots in inch by inch </code></p>
<p><code></code></p>
<p><code> \(\left[10,5\right]\)  </code></p>
<p><code></code></p>
<p><code> <code>int(2)</code> </code></p>
<p><code> </code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>ex_plot_style</code> </code></p>
<p><code></code></p>
<p><code> style how external plots are made
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>GnuPlot </td></tr>
<tr>
<td>\(2\) </td><td>Bokeh for 2-D and Mayavi for 3-D </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(1\)  </code></p>
<p><code></code></p>
<p><code> <code>int</code> </code></p>
<p><code> </code></p>
<p><code>(<a class="el" href="#fni21" title="fni21">21</a>)</code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
    </code></p>
<p><code> <b>concerning Richardson extrapolation</b>  </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_it_rich</code> </code></p>
<p><code></code></p>
<p><code> maximum number of Richardson extrapolations </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>tol_rich</code> </code></p>
<p><code></code></p>
<p><code> tolerance for convergence of Richardson extrapolations </code></p>
<p><code></code></p>
<p><code> \(1^{-4}\) </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>rich_restart_lvl</code> </code></p>
<p><code></code></p>
<p><code> Richardson level at which to restart a previous simulation </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni8" title="fni8">8</a>)</code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
    </code></p>
<p><code> <b>concerning finding zeros</b>  </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_it_zero</code> </code></p>
<p><code></code></p>
<p><code> maximum number of iterations in <a class="el" href="interfacenum__ops_1_1calc__zero__hh.html" title="Finds the zero of a function using Householder iteration.">num_ops.calc_zero_hh()</a> and calc_zero_zhang() </code></p>
<p><code></code></p>
<p><code> \(100\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni9" title="fni9">9</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>tol_zero</code> </code></p>
<p><code></code></p>
<p><code> tolerance for zero finding </code></p>
<p><code></code></p>
<p><code> \(1^{-10}\) </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni9" title="fni9">9</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_nr_backtracks_HH</code> </code></p>
<p><code></code></p>
<p><code> maximum number of times the correction can be relaxed by half in a backtrack for the Householder methods </code></p>
<p><code></code></p>
<p><code> \(20\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni9" title="fni9">9</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <b>concerning runtime</b>  </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>use_normalization</code> </code></p>
<p><code></code></p>
<p><code> use normalization for the internal calculations </code></p>
<p><code></code></p>
<p><code> <span class="tt">.true.</span> </code></p>
<p><code></code></p>
<p><code><code>log</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni6" title="fni6">6</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_tot_mem</code> </code></p>
<p><code></code></p>
<p><code> maximum total memory available to the simulation \(\left[kB\right]\) </code></p>
<p><code></code></p>
<p><code> <span class="tt">6000</span> </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>sol_n_procs</code> </code></p>
<p><code></code></p>
<p><code> Number of processes available for SLEPC solution \((1\ldots N)\) where \(N\) is the number of MPI processes </code></p>
<p><code></code></p>
<p><code> <span class="tt">N</span> </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>norm_disc_prec_eq</code> </code></p>
<p><code></code></p>
<p><code> normal discretization precision for equilibrium quantities </code></p>
<p><code></code></p>
<p><code> \(3\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>norm_disc_prec_X</code> </code></p>
<p><code></code></p>
<p><code> normal discretization precision for perturbation quantities </code></p>
<p><code></code></p>
<p><code> \(3\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>norm_disc_prec_sol</code> </code></p>
<p><code></code></p>
<p><code> normal discretization precision for solution quantities </code></p>
<p><code></code></p>
<p><code> \(3\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>norm_disc_style_sol</code> </code></p>
<p><code></code></p>
<p><code> style how solution quantities are discretized
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>central finite differences </td></tr>
<tr>
<td>\(2\) </td><td>left finite differences </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(2\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>magn_int_style</code> </code></p>
<p><code></code></p>
<p><code> style how magnetic integrals are calculated
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>trapezoidal rule </td></tr>
<tr>
<td>\(2\) </td><td>Simpson 3/8 rule </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>X_grid_style</code> </code></p>
<p><code></code></p>
<p><code> style how perturbation grid is set up
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>identical to equilibrium grid </td></tr>
<tr>
<td>\(2\) </td><td>identical to solution grid </td></tr>
<tr>
<td>\(3\) </td><td>enriched version of equilibrium grid (see <code>max_njq_change</code>) </td></tr>
</table>
<p><br  />
 </code></p>
<p><code></code></p>
<p><code> \(1\) (<code>X_style</code> 1), \(2\) (<code>X_style</code> 2) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni5" title="fni5">5</a>, <a class="el" href="#fni36" title="fni36">36</a>) </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_njq_change</code> </code></p>
<p><code></code></p>
<p><code> maximum change of resonant mode numbers for <code>X_grid_style</code> \(3\) </code></p>
<p><code></code></p>
<p><code> \(0.49\) </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni36" title="fni36">36</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_it_SLEPC</code> </code></p>
<p><code></code></p>
<p><code> maximum number of iterations in SLEPC calculation to find eigenvalue </code></p>
<p><code></code></p>
<p><code> \(1000\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>EV_BC</code> </code></p>
<p><code></code></p>
<p><code> eigenvalue used in boundary condition of style <code>BC_style</code> = 1 </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni10" title="fni10">10</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>EV_guess</code> </code></p>
<p><code></code></p>
<p><code> target guess for eigenvalue </code></p>
<p><code></code></p>
<p><code> \(-0.3\) </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>tol_SLEPC</code> </code></p>
<p><code></code></p>
<p><code> tolerance used in SLEPC for different Richardson levels </code></p>
<p><code></code></p>
<p><code> \([1^{-5},\ldots]\)  </code></p>
<p><code></code></p>
<p><code><code>real(max_it_rich)</code> </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>rho_style</code> </code></p>
<p><code></code></p>
<p><code> style how the density \(\rho\) is calculated
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>constant <code>rho_0</code> </td></tr>
</table>
<p><br  />
 </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>U_style</code> </code></p>
<p><code></code></p>
<p><code> style how to calculate geodesical perturbation \(U = \vec{\xi} \cdot \frac{\nabla \psi \times \vec{B}}{\left|\nabla \psi\right|^2}\) is calculated
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>up to order \( \sim \frac{1}{n} \) </td></tr>
<tr>
<td>\(2\) </td><td>up to order \( \sim \left(\frac{1}{n}\right)^2 \) </td></tr>
<tr>
<td>\(3\) </td><td>up to order \( \sim \left(\frac{1}{n}\right)^3 \) </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(3\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>K_style</code> </code></p>
<p><code></code></p>
<p><code> style how to calculate kinetic energy \(K = \int \left|\vec{\xi}\right|^2 d \text{V}\)
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>normalization of full perpendicular component </td></tr>
<tr>
<td>\(2\) </td><td>normalization of only normal component </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>BC_style</code> </code></p>
<p><code></code></p>
<p><code> style how boundary conditions are applied for left and right boundary
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>set to zero </td></tr>
<tr>
<td>\(2\) </td><td>minimization of surface energy through asymmetric finite differences </td></tr>
<tr>
<td>\(3\) </td><td>minization through extension of grid </td></tr>
<tr>
<td>\(4\) </td><td>explicit introduction of the surface energy minimization </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \([1,2]\) </code></p>
<p><code></code></p>
<p><code><code>int(2)</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni10" title="fni10">10</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>norm_style</code> </code></p>
<p><code></code></p>
<p><code> style how to calculate normalization
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>MISHKA normalization with magnetic field on axis </td></tr>
<tr>
<td>\(2\) </td><td>COBRA normalization with pressure on axis </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni11" title="fni11">11</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>solver_SLEPC_style</code> </code></p>
<p><code></code></p>
<p><code> style used in SLEPC to solve the eigenvalue equation 
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>Krylov-Schur with shift-invert </td></tr>
<tr>
<td>\(2\) </td><td>generalized Davidson with preconditioner </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>matrix_SLEPC_style</code> </code></p>
<p><code></code></p>
<p><code> style used for SLEPC matrices
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>sparse matrices </td></tr>
<tr>
<td>\(2\) </td><td>shell matrices </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni12" title="fni12">12</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></code></p>
<h2 class="doxsection"><a class="anchor" id="inputs_PB3D_cmd"></a>
<code>Command-line inputs</code></h2>
<p><code></code></p>
<p><code></p><a class="anchor" id="inputs_PB3D_cmd_tab"></a>
<table class="doxtable">
<caption>Table 2. PB3D command-line options</caption>
<tr>
<th>input parameter </th><th>explanation </th><th>argument </th><th>note
</th></tr>
<tr>
<td><code>test</code> </td><td>test mode <dl class="section note"><dt>Note</dt><dd>Debug version only </dd></dl>
</td><td></td><td>(<a class="el" href="#fni28" title="fni28">28</a>) </td></tr>
<tr>
<td><code>no_plots</code> </td><td>do not produce any output plots </td><td></td><td></td></tr>
<tr>
<td><code>no_outputs</code> </td><td>do not produce text output </td><td></td><td>(<a class="el" href="#fni29" title="fni29">29</a>) </td></tr>
<tr>
<td><code>do_execute_command_line</code> </td><td>run the external command line shell commands during execution </td><td></td><td>(<a class="el" href="#fni30" title="fni30">30</a>) </td></tr>
<tr>
<td><code>mem_info</code> </td><td>produce memory profiles for each process <dl class="section note"><dt>Note</dt><dd>Debug version only </dd></dl>
</td><td></td><td>(<a class="el" href="#fni31" title="fni31">31</a>) </td></tr>
<tr>
<td><code>no_guess</code> </td><td>do not use a guess</td><td></td><td></td></tr>
<tr>
<td><code>jump_to_sol</code> </td><td>jump straight to the solution for the Richardson level at which the simulationes are (re)started, possibly for different solution grid parameters such as <code>n_r_sol</code> </td><td></td><td>(<a class="el" href="#fni33" title="fni33">33</a>) </td></tr>
<tr>
<td><code>export_HEL</code> </td><td>create a VMEC input file from HELENA variables, possibly adding a toroidal ripple </td><td></td><td>(<a class="el" href="#fni34" title="fni34">34</a>) </td></tr>
<tr>
<td><code>plot_VMEC_modes</code> </td><td>plot decay of VMEC modes </td><td></td><td></td></tr>
<tr>
<td><code>invert_top_bottom_H</code> </td><td>invert top and bottom of HELENA equilibrium <dl class="section note"><dt>Note</dt><dd>Debug version only </dd></dl>
</td><td></td><td></td></tr>
</table>
<p></code></p>
<p><code></code></p>
<h1 class="doxsection"><a class="anchor" id="inputs_POST"></a>
<code>POST Inputs</code></h1>
<p><code></code></p>
<p><code></code></p>
<h2 class="doxsection"><a class="anchor" id="inputs_POST_file"></a>
<code>Input file</code></h2>
<p><code></code></p>
<p><code></p><a class="anchor" id="inputs_POST_file_tab"></a>
<table class="doxtable">
<caption>Table 3. POST input file</caption>
<tr>
<th>input parameter </th><th>explanation </th><th>default value </th><th>data type </th><th>note
</th></tr>
<tr>
<td colspan="5" bgcolor="LightGray" align="center"><b>concerning solution</b>  </td></tr>
<tr>
<td><code>min_r_plot</code> </td><td>minimum normalized flux of output domain \(\left(0\ldots 1\right)\) </td><td></td><td><code>real</code> </td><td>(<a class="el" href="#fni24" title="fni24">24</a>) </td></tr>
<tr>
<td><code>max_r_plot</code> </td><td>maximum normalized flux of output domain \(\left(0\ldots 1\right)\) </td><td></td><td><code>real</code> </td><td>(<a class="el" href="#fni24" title="fni24">24</a>) </td></tr>
<tr>
<td colspan="5" bgcolor="LightGray" align="center"><b>concerning input and output</b> </td></tr>
<tr>
<td><code>n_sol_plotted</code> </td><td>number of solutions plotted </td><td><code>n_sol_requested</code> </td><td><code>int</code> </td><td></td></tr>
<tr>
<td><code>pert_mult_factor_POST</code> </td><td>factor by which the grid can be perturbed, with respect to the maximum perturbation of each solution independently </td><td>\(0\) </td><td><code>real</code> </td><td>(<a class="el" href="#fni25" title="fni25">25</a>)</td></tr>
<tr>
<td><code>plot_resonance</code> </td><td>plot the safety factor (poloidal flux) or rotational transform (toroidal flux) and the resonant values </td><td><span class="tt">.false.</span> </td><td><code>log</code> </td><td>(<a class="el" href="#fni13" title="fni13">13</a>)</td></tr>
<tr>
<td><code>plot_magn_grid</code> </td><td>plot magnetic field lines in the flux surfaces in 3-D geometry as an animation </td><td><span class="tt">.false.</span> </td><td><code>log</code> </td><td>(<a class="el" href="#fni14" title="fni14">14</a>)</td></tr>
<tr>
<td><code>plot_B</code> </td><td>plot magnetic field \(\vec{B} = \nabla \alpha \times \nabla \psi \) \(\left[T\right]\) </td><td><span class="tt">.false.</span> </td><td><code>log</code> </td><td>(<a class="el" href="#fni15" title="fni15">15</a>)</td></tr>
<tr>
<td><code>plot_J</code> </td><td>plot current \(\vec{J} = \mu_0^{-1} \nabla \times \left(\nabla \alpha \times \nabla \psi\right) \) \(\left[\frac{A}{m^2}\right]\) </td><td><span class="tt">.false.</span> </td><td><code>log</code> </td><td>(<a class="el" href="#fni16" title="fni16">16</a>)</td></tr>
<tr>
<td><code>plot_kappa</code> </td><td>plot curvature \(\vec{\kappa} = \frac{\vec{B}}{B} \cdot \nabla \frac{\vec{B}}{B}\) \(\left[\frac{1}{m}\right]\) and its components \(  \kappa_n = \frac{\nabla \psi}{\left|\nabla \psi\right|^2} \cdot \vec{\kappa} \) \(\left[\frac{1}{T m^2}\right]\) and \( \kappa_g = \frac{\nabla \psi \times \vec{B}}{B^2} \cdot \vec{\kappa} \) \(\left[\phantom{\cdot}\right]\) </td><td><span class="tt">.false.</span> </td><td><code>log</code> </td><td>(<a class="el" href="#fni17" title="fni17">17</a>)</td></tr>
<tr>
<td><code>plot_flux_q</code> </td><td>plot flux quantities \(q\), \(\iota\), \(p\) \(\left[Pa\right]\), \(\Psi_\text{pol}\) \(\left[T m^2\right]\) and \(\Psi_\text{tor}\) \(\left[T m^2\right]\) </td><td><span class="tt">.false.</span> </td><td><code>log</code> </td><td>(<a class="el" href="#fni18" title="fni18">18</a>)</td></tr>
<tr>
<td><code>plot_sol_xi</code> </td><td>plot normal mode \(\vec{\xi}\) \(\left[m\right]\) and its components \(  X = \frac{\nabla \psi}{B^2} \cdot \vec{\xi} \) \(\left[\frac{m^2}{T}\right]\) and \( U = \frac{\nabla \psi \times \vec{B}}{\left|\nabla \psi\right|^2} \cdot \vec{\xi} \) \(\left[\phantom{\cdot}\right]\) </td><td><span class="tt">.false.</span> </td><td><code>log</code> </td><td>(<a class="el" href="#fni26" title="fni26">26</a>)</td></tr>
<tr>
<td><code>plot_sol_Q</code> </td><td>plot magnetic field perturbation due to the normal mode \(\vec{Q} = \nabla \times \left(\vec{\xi} \times \vec{B}\right) \) \(\left[T\right]\) and its components \(  Q_n = \frac{\nabla \psi}{B^2} \cdot \vec{Q} \) \(\left[m\right]\) and \( Q_g = \frac{\nabla \psi \times \vec{B}}{\left|\nabla \psi\right|^2} \cdot \vec{Q} \) \(\left[\frac{T}{m}\right]\) </td><td><span class="tt">.false.</span> </td><td><code>log</code> </td><td>(<a class="el" href="#fni26" title="fni26">26</a>)</td></tr>
<tr>
<td><code>plot_E_rec</code> </td><td>plot energy reconstruction </td><td><span class="tt">.false.</span> </td><td><code>log</code> </td><td>(<a class="el" href="#fni27" title="fni27">27</a>)</td></tr>
<tr>
<td><code>n_theta_plot</code> </td><td>number of points in plots in \(\theta\) direction </td><td></td><td><code>int</code> </td><td>(<a class="el" href="#fni19" title="fni19">19</a>)</td></tr>
<tr>
<td><code>n_zeta_plot</code> </td><td>number of points in plots in \(\zeta\) direction </td><td></td><td><code>int</code> </td><td>(<a class="el" href="#fni19" title="fni19">19</a>)</td></tr>
<tr>
<td><code>min_theta_plot</code> </td><td>minimum of \(\theta\) range for plots </td><td></td></tr>
</table>
<p></code></p>
<p><code>&lt;_form&gt;</code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_theta_plot</code> </code></p>
<p><code></code></p>
<p><code> minimum of \(\theta\) range for plots </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code> \(3\)</code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>min_zeta_plot</code> </code></p>
<p><code></code></p>
<p><code> minimum of \(\zeta\) range for plots </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni20" title="fni20">20</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_zeta_plot</code> </code></p>
<p><code></code></p>
<p><code> minimum of \(\zeta\) range for plots </code></p>
<p><code></code></p>
<p><code>  </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni20" title="fni20">20</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>plot_size</code> </code></p>
<p><code></code></p>
<p><code> size of 2-D plots in inch by inch </code></p>
<p><code></code></p>
<p><code> \(\left[10,5\right]\)  </code></p>
<p><code></code></p>
<p><code> <code>int(2)</code> </code></p>
<p><code> </code></p>
<p><code></code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>ex_plot_style</code> </code></p>
<p><code></code></p>
<p><code> style how external plots are made
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>GnuPlot </td></tr>
<tr>
<td>\(2\) </td><td>Bokeh for 2-D and Mayavi for 3-D </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(1\)  </code></p>
<p><code></code></p>
<p><code> <code>int</code> </code></p>
<p><code> </code></p>
<p><code>(<a class="el" href="#fni21" title="fni21">21</a>)</code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
    </code></p>
<p><code> <b>concerning Richardson extrapolation</b>  </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>PB3D_rich_lvl</code> </code></p>
<p><code></code></p>
<p><code> Richardson level at which to perform post-processing </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni22" title="fni22">22</a>)</code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
    </code></p>
<p><code> <b>concerning finding zeros</b>  </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_it_zero</code> </code></p>
<p><code></code></p>
<p><code> maximum number of iterations in <a class="el" href="interfacenum__ops_1_1calc__zero__hh.html" title="Finds the zero of a function using Householder iteration.">num_ops.calc_zero_hh()</a> and calc_zero_zhang() </code></p>
<p><code></code></p>
<p><code> \(100\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni9" title="fni9">9</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>tol_zero</code> </code></p>
<p><code></code></p>
<p><code> tolerance for zero finding </code></p>
<p><code></code></p>
<p><code> \(1^{-10}\) </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni9" title="fni9">9</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_nr_backtracks_HH</code> </code></p>
<p><code></code></p>
<p><code> maximum number of times the correction can be relaxed by half in a backtrack for the Householder methods </code></p>
<p><code></code></p>
<p><code> \(20\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code> (<a class="el" href="#fni9" title="fni9">9</a>)</code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></code></p>
<p><code>
    </code></p>
<p><code> <b>concerning runtime</b>  </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>max_tot_mem</code> </code></p>
<p><code></code></p>
<p><code> maximum total memory available to the simulation \(\left[kB\right]\) </code></p>
<p><code></code></p>
<p><code> <span class="tt">6000</span> </code></p>
<p><code></code></p>
<p><code><code>real</code> </code></p>
<p><code></code></p>
<p><code> </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>POST_style</code> </code></p>
<p><code></code></p>
<p><code> style how post-processing is done
        </p><table class="doxtable">
<tr>
<td>\(1\) </td><td>extended rectangular grid in \(\theta\) and \(\zeta\) </td></tr>
<tr>
<td>\(2\) </td><td>field-aligned grid used internally by PB3D </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(1\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni23" title="fni23">23</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code>
    </code></p>
<p><code> <code>plot_grid_style</code> </code></p>
<p><code></code></p>
<p><code> style used for output plotting
        </p><table class="doxtable">
<tr>
<td>\(0\) </td><td>3-D plots </td></tr>
<tr>
<td>\(1\) </td><td>slab plots: \(\theta\) and \(\zeta\) are sides of a slab </td></tr>
<tr>
<td>\(2\) </td><td>slab plots with folding of fundamental interval \(0\ldots 2 \pi\) </td></tr>
<tr>
<td>\(3\) </td><td>straight cylinder geometry: \(\zeta\) is straightened </td></tr>
</table>
<p><br  />

    </code></p>
<p><code></code></p>
<p><code> \(0\) </code></p>
<p><code></code></p>
<p><code><code>int</code> </code></p>
<p><code></code></p>
<p><code>(<a class="el" href="#fni23" title="fni23">23</a>)</code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></code></p>
<h2 class="doxsection"><a class="anchor" id="inputs_POST_cmd"></a>
<code>Command-line inputs</code></h2>
<p><code></code></p>
<p><code></p><a class="anchor" id="inputs_POST_cmd_tab"></a>
<table class="doxtable">
<caption>Table 4. POST command-line options</caption>
<tr>
<th>input parameter </th><th>explanation </th><th>argument </th><th>note
</th></tr>
<tr>
<td><code>test</code> </td><td>test mode <dl class="section note"><dt>Note</dt><dd>Debug version only </dd></dl>
</td><td></td><td>(<a class="el" href="#fni28" title="fni28">28</a>) </td></tr>
<tr>
<td><code>no_plots</code> </td><td>do not produce any output plots </td><td></td><td></td></tr>
<tr>
<td><code>no_outputs</code> </td><td>do not produce text output </td><td></td><td>(<a class="el" href="#fni29" title="fni29">29</a>) </td></tr>
<tr>
<td><code>do_execute_command_line</code> </td><td>run the external command line shell commands during execution </td><td></td><td>(<a class="el" href="#fni30" title="fni30">30</a>) </td></tr>
<tr>
<td><code>mem_info</code> </td><td>produce memory profiles for each process <dl class="section note"><dt>Note</dt><dd>Debug version only </dd></dl>
</td><td></td><td>(<a class="el" href="#fni31" title="fni31">31</a>) </td></tr>
<tr>
<td><code>swap_angles</code> </td><td>swap \(\theta\) and \(\zeta\) of output grid in <span class="tt">POST_style = 2</span> </td><td></td><td></td></tr>
<tr>
<td><code>compare_tor_pos</code> </td><td>compare \(\vec{B}\), \(\vec{J}\) and \(\vec{\kappa}\) from <code>plot_B</code>, <code>plot_J</code> and <code>plot_kappa</code> at different toroidal positions, as well as the difference in position </td><td></td></tr>
</table>
<p></code></p>
<p><code><span class="tt">RZ_0(2)</span> </code></p>
<p><code>(<a class="el" href="#fni32" title="fni32">32</a>) </code></p>
<p><code>
</code></p>
<p><code>
</code></p>
<p><code></code></p>
<p><code></p><dl class="section note"><dt>Note</dt><dd><ol type="1">
<li><a class="anchor" id="fni1"></a>The normalized flux is either the poloidal (<span class="tt">use_pol_flux_F = .true.</span>) or toroidal (<span class="tt">use_pol_flux_F = .false.</span>), divided by its value at the boundary.</li>
<li><a class="anchor" id="fni2"></a>Is used in check_x_modes() whether there exists a range in which each of the modes resonates.</li>
<li><a class="anchor" id="fni3"></a>This is the number for the first Richardson level. It is doubled for every next level.</li>
<li><a class="anchor" id="fni4"></a>Should satisfy the high- \(n\) approximation, currently set to &gt; 5 .</li>
<li><a class="anchor" id="fni5"></a>If <code>min_sec_X</code> and <code>max_sec_X</code> is set, the user prescribes the secondary mode number range (<span class="tt">X_style</span> = 1). If <code>n_mod_X</code> is set, on the other hand, the user prescribes the size of the range, which is automatically chosen (<span class="tt">X_style</span> = 2). They cannot be both chosen.</li>
<li><a class="anchor" id="fni6"></a>Normalization constants, with exception of <code>rho_0</code> are set in the routine calc_normalization_const().</li>
<li><a class="anchor" id="fni7"></a>In store_results(), it is decided whether the eigenvalue is physical or not, by considering the ratio between real and imaginary part.</li>
<li><a class="anchor" id="fni8"></a>This needs to be between 1 and the maximum level that was obtained in a previous solution, plus 1. For technical HDF5 reasons, if Richardson restart is used, the same input fil parameters should be used for <code>max_tot_mem</code> and the same number of processes should be used. Furthermore, it should not exceed <code>max_it_rich</code>.</li>
<li><a class="anchor" id="fni9"></a>For the case of <a class="el" href="interfacenum__ops_1_1calc__zero__hh.html" title="Finds the zero of a function using Householder iteration.">num_ops.calc_zero_hh()</a>, at every iteration it is checked whether the correction approximation is better than the original one. If it is not, the correction is relaxed by a factor half. This is done <code>max_nr_backtracks_HH</code> times.</li>
<li><a class="anchor" id="fni10"></a>See set_bc().</li>
<li><a class="anchor" id="fni11"></a>See calc_normalization_const().</li>
<li><a class="anchor" id="fni12"></a>See solve_ev_system_slepc()</li>
<li><a class="anchor" id="fni13"></a>See resonance_plot().</li>
<li><a class="anchor" id="fni14"></a>See magn_grid_plot().</li>
<li><a class="anchor" id="fni15"></a>See b_plot(). The output is done in various coordinate system, as explained in calc_vec_comp().</li>
<li><a class="anchor" id="fni16"></a>See j_plot(). The output is done in various coordinate system, as explained in calc_vec_comp().</li>
<li><a class="anchor" id="fni17"></a>See kappa_plot(). The output is done in various coordinate system, as explained in calc_vec_comp().</li>
<li><a class="anchor" id="fni18"></a>See flux_q_plot().</li>
<li><a class="anchor" id="fni19"></a>For <span class="tt">eq_style = 1</span>, the equilibrium is axisymmetric, so by default <span class="tt">n_theta_plot = 501</span> and <span class="tt">n_zeta_plot = 1</span>; for <span class="tt">eq_style = 2</span>, the equilibrium can be 3-D, so <span class="tt">n_theta_plot = 201</span> and <span class="tt">n_zeta_plot = 51</span></li>
<li><a class="anchor" id="fni20"></a>For <span class="tt">eq_style = 1</span>, the equilibrium is axisymmetric, so by default <span class="tt">min_zeta_plot = max_zeta_plot 0</span>; for <span class="tt">eq_style = 2</span>, the equilibrium can be 3-D, so <span class="tt">min_zeta_plot = 0</span> and <span class="tt">max_zeta_plot = 2</span>.</li>
<li><a class="anchor" id="fni21"></a>This refers to the external plots, which are complimentary to the HDF5 plots. See draw_ex().</li>
<li><a class="anchor" id="fni22"></a>If output is done that requires a solution, this needs to be between 1 and the maximum level that was obtained in PB3D. See find_max_rich_lvl(). If no solution is found, some of the outputs that do not depend on this still work.Optionally, this can be forced by choosing <code>PB3D_rich_lvl</code> not positive.</li>
<li><a class="anchor" id="fni23"></a>The <code>POST_style</code> determines whether the post-processing is done on an extended, new grid, or on the PB3D internal grid. On top of this, through <code>plot_grid_style</code> the user can set the output grid for the post-processing. Note that some combinations of styles do not make sense.</li>
<li><a class="anchor" id="fni24"></a>By default, the plot normal range is chosen equal to the solution normal range from <code>min_r_sol</code> and <code>max_r_sol</code>, but it can be restricted. This is useful, for example, to reduce computation time.</li>
<li><a class="anchor" id="fni25"></a>The Cartesian components of the result of the division of <code>pert_mult_factor_POST</code> by the maximum value of the solution normal mode amplitude is added to the equilibrium Cartesian grid components to illustrate the perturbation in 3-D. This is done for each solution independently and sequentially. If it is not positive, it is ignored. Note that <span class="tt">plot_sol_xi = .true.</span> is necessary for this to be used.</li>
<li><a class="anchor" id="fni26"></a>These quantities are calculated in <a class="el" href="interfacesol__utilities_1_1calc__xuq.html" title="Calculates the normal ( ) or geodesic ( ) components of the plasma perturbation  or the magnetic pert...">sol_utilities.calc_xuq()</a>. This is done for a time sequene, currently hard-coded in plot_sol_vec(), depending on whether the solution is stable or unstable.</li>
<li><a class="anchor" id="fni27"></a>The energy reconstruction is performed in calc_e() if either one of <code>plot_sol_xi</code>, <code>plot_sol_Q</code> or <code>plot_E_rec</code> is true.</li>
<li><a class="anchor" id="fni28"></a>Equivalent use is through <span class="tt">-t</span>. If this is used, <code>do_execute_command_line</code> should be set to true as well. See generic_tests().</li>
<li><a class="anchor" id="fni29"></a>This is used internally as well, to suppress certain output. See run_driver_x() and run_driver_post().</li>
<li><a class="anchor" id="fni30"></a>This can fail on local systems, and generally works badly on computational clusters, where the computational nodes often don't have the external tools (see <code>ex_plot_style</code>) installed. By default, an output file is created for the shell commands, which can be executed afterwards. See <a class="el" href="page_outputs.html#output_file_shell" title="Shell commands file">Shell commands file</a>.</li>
<li><a class="anchor" id="fni31"></a>This is done by calling get_mem_usage() and storing the result at every allocation and deallocation of an <code>eq_1_type</code>, <code>eq_2_type</code>, <code>X_1_type</code>, <code>X_2_type</code>, <code>vac_type</code> or <code>sol_type</code>, as well as for input quantities. Furthermore at every user output with writo(), this is also done, and the output is prepended to the output string. Also, the output is written to a file. See <a class="el" href="page_outputs.html#output_file_mem" title="Memory usage file">Memory usage file</a>.</li>
<li><a class="anchor" id="fni32"></a>This is useful to calculate the ripple in these quantities. To use this, it is necessary to have an output grid of only 3 points, where the poloidal projection of the middle point should be the in the middle between the poloidal projections of the two others. Also, you have to provide through <code>RZ_0</code> the \(R\) and \(Z\) value of the origin of the geometrical poloidal angle that is used to calculate distances. See <a class="el" href="interfacegrid__utilities_1_1calc__tor__diff.html" title="Calculates the toroidal difference for a magnitude calculated on three toroidal points: two extremiti...">grid_utilities.calc_tor_diff()</a>.</li>
<li><a class="anchor" id="fni33"></a>Jumping straight to the solution is useful if a simulation already calculated all the necessary quantities to set up the solution matrices \(\overline{\text{A}}\) and \(\overline{\text{B}}\) in \(\overline{\text{A}} \vec{X} = \lambda \overline{\text{B}} \vec{X}\) and the solution needs to be redone, for example because a calculation was attempted with a method that did not converge.</li>
<li><a class="anchor" id="fni34"></a>This is a rather complicated procedure with many possibilities that is intended for expert use. See create_vmec_input().</li>
<li><a class="anchor" id="fni35"></a>Using the toroidal flux is <b>experimental</b> and <b>untested</b>.</li>
<li><a class="anchor" id="fni36"></a>Have a look in calc_norm_range(). <code>X_grid_style</code> \(1\) is generally too coarse while <code>X_grid_style</code> \(2\) is too fine. <code>X_grid_style</code> \(3\) was designed to have the both of best world. It only makes sense for <code>X_style</code> 2 (fast), though, as in the enrichment process the fast secondary mode range is used to limit the maximum amount the quantity \(n q\) (when using poloidal flux) or \(m \iota\) (when using toroidal flux) to <code>max_njq_change</code> between two normal grid points. </li>
</ol>
</dd></dl>
<p></code></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<address class="footer"><small>
<center>this documentation was created with <a href="http://www.doxygen.org/index.html">Doxygen 1.16.1</a> by <a href="mailto:weyenst@gmail.com">Toon Weyens</a></center>
</small></address>
</body>
</html>

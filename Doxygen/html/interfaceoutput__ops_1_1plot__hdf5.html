<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PB3D: output_ops::plot_hdf5 Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PB3D
   &#160;<span id="projectnumber">[2.43]</span>
   </div>
   <div id="projectbrief">Ideal linear high-n MHD stability in 3-D</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceoutput__ops.html">output_ops</a></li><li class="navelem"><a class="el" href="interfaceoutput__ops_1_1plot__hdf5.html">plot_hdf5</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interfaceoutput__ops_1_1plot__hdf5-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">output_ops::plot_hdf5 Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Prints variables <code>vars</code> with names <code>var_names</code> in an HDF5 file with name c file_name and accompanying XDMF file.  
 <a href="interfaceoutput__ops_1_1plot__hdf5.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a70787d16f320d130c3ab67128075d7a1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceoutput__ops_1_1plot__hdf5.html#a70787d16f320d130c3ab67128075d7a1">plot_hdf5_ind</a> (var_name, file_name, var, tot_dim, loc_offset, X, Y, Z, cont_plot, descr)</td></tr>
<tr class="memdesc:a70787d16f320d130c3ab67128075d7a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">individual version  <a href="interfaceoutput__ops_1_1plot__hdf5.html#a70787d16f320d130c3ab67128075d7a1">More...</a><br /></td></tr>
<tr class="separator:a70787d16f320d130c3ab67128075d7a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabeeacb6f9aab1fb21d226e6a315e3d1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceoutput__ops_1_1plot__hdf5.html#aabeeacb6f9aab1fb21d226e6a315e3d1">plot_hdf5_arr</a> (var_names, file_name, vars, tot_dim, loc_offset, X, Y, Z, col_id, col, sym_type, cont_plot, descr)</td></tr>
<tr class="memdesc:aabeeacb6f9aab1fb21d226e6a315e3d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">array version  <a href="interfaceoutput__ops_1_1plot__hdf5.html#aabeeacb6f9aab1fb21d226e6a315e3d1">More...</a><br /></td></tr>
<tr class="separator:aabeeacb6f9aab1fb21d226e6a315e3d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Prints variables <code>vars</code> with names <code>var_names</code> in an HDF5 file with name c file_name and accompanying XDMF file. </p>
<p>For XDMF collections (<a class="el" href="citelist.html#CITEREF_xdmf">[18]</a>), only the first value for <code>var_names</code> is used, so it should have a size of one.</p>
<p>The plot is generally 3-D, but if one of the dimensions provided is equal to 1, it is checked whether there is poloidal or toroidal axisymmetry and if so, the plot becomes 2-D. This can be forced using the optional input argument <code>sym_type</code>.</p>
<p>Optionally, the (curvilinear) grid can be provided through <code>X</code>, <code>Y</code> and <code>Z</code>. If not, the grid is assumed to be Cartesian with discrete indices where <code>X</code> corresponds to the first dimensions, <code>Y</code> to the second and <code>Z</code> to the third.</p>
<p>Additionally, the total grid size and local offset can be provided in <code>tot_dim</code> and <code>loc_offset</code> to run this routine in parallel automatically. Optionally, one of the dimensions (<code>col_id</code>, default 4) can be associated to a collection dimension using <code>col</code> different from 1:</p><ul>
<li><code>col</code> = 1: no collection, just plots of different variables</li>
<li><code>col</code> = 2: time collection</li>
<li><code>col</code> = 3: spatial collection</li>
<li><code>col</code> = 4: vector field</li>
</ul>
<p>Furthermore, using the variable <code>cont_plot</code>, a plot can be (over-)written in multiple writes. By this is meant that there should be an initial plot, with collection type 1, 2, 3 or 4, which can then be followed by an arbitrary number of additional writes. As these additional writes currently cannot modify the plot structure, nor the XDMF variables, their collection dimension should be complete from the start.</p>
<p>This has no implications for single plots but means that for collection types 2 to 4 all the elements in the collection have to be present, though they do not necessary need to have been completely written in the other dimensions.</p>
<p>Subsequent writes with <code>cont_plot</code> can then, for instance, write parts of the data that had not yet been written, or overwrite ones that had. This can be useful for post-processing where the memory requirements are large so that the work has to be split.</p>
<dl class="section note"><dt>Note</dt><dd><ol type="1">
<li>For a vector field, the number of variables has to be 2 for 2-D plots or 3 for 3-D plots. This should be rewritten in the future, so that collections can be used for vectors as well.</li>
<li>In order to merge collections in their collection dimension, the XDMF files can always easily be joined.</li>
<li>If necessary, a lock system should be used when multiple processes are writing the same file, including continued writes.</li>
<li>To plot this with VisIt, use:<ul>
<li>for temporal collections: pseudocolor using the variable name (other names are ignored).</li>
<li>for spatial collections: subset of blocks or pseudocolor using the variable name (other names are ignored).</li>
<li>for vector plot: Vector plot.</li>
<li>for without collections: pseudocolor using the variable names.</li>
</ul>
</li>
<li>Currently all of possibly multiple processes that write data have to cover the entire range of the variables in the dimension indicated by <code>col_id</code>. (This could be implemented by changing how n_plot is defined and selectively letting each processer write in the main loop at its corresponding indices.)</li>
<li>To project the data to 2-D in VisIt, use the projection tool under Operators &gt; Transform </li>
</ol>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="output__ops_8f90_source.html#l00137">137</a> of file <a class="el" href="output__ops_8f90_source.html">output_ops.f90</a>.</p>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a id="aabeeacb6f9aab1fb21d226e6a315e3d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabeeacb6f9aab1fb21d226e6a315e3d1">&#9670;&nbsp;</a></span>plot_hdf5_arr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine output_ops::plot_hdf5::plot_hdf5_arr </td>
          <td>(</td>
          <td class="paramtype">character(len=*), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>var_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:,:,:,:), intent(in), target&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(4), intent(in), optional&#160;</td>
          <td class="paramname"><em>tot_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(4), intent(in), optional&#160;</td>
          <td class="paramname"><em>loc_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:,:,:,:), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:,:,:,:), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:,:,:,:), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>Z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>col_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>sym_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>cont_plot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in), optional&#160;</td>
          <td class="paramname"><em>descr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>array version </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var_names</td><td>names of variable to be plot </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_name</td><td>file name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vars</td><td>variables to plot </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tot_dim</td><td>total dimensions of the arrays </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">loc_offset</td><td>offset of local dimensions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>curvilinear grid X points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>curvilinear grid Y points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">z</td><td>curvilinear grid Z points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">col_id</td><td>index of time dimension </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">col</td><td>whether a collection is made </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sym_type</td><td>type of symmetry (1: no symmetry, 2: toroidal, 3: poloidal) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cont_plot</td><td>continued plot </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descr</td><td>description </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="output__ops_8f90_source.html#l00435">435</a> of file <a class="el" href="output__ops_8f90_source.html">output_ops.f90</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="interfaceoutput__ops_1_1plot__hdf5_aabeeacb6f9aab1fb21d226e6a315e3d1_cgraph.svg" width="1051" height="595"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a70787d16f320d130c3ab67128075d7a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70787d16f320d130c3ab67128075d7a1">&#9670;&nbsp;</a></span>plot_hdf5_ind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine output_ops::plot_hdf5::plot_hdf5_ind </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:,:,:), intent(in)&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(3), intent(in), optional&#160;</td>
          <td class="paramname"><em>tot_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(3), intent(in), optional&#160;</td>
          <td class="paramname"><em>loc_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:,:,:), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:,:,:), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:,:,:), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>Z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>cont_plot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in), optional&#160;</td>
          <td class="paramname"><em>descr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>individual version </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var_name</td><td>name of variable to be plot </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_name</td><td>file name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">var</td><td>variable to plot </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tot_dim</td><td>total dimensions of the arrays </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">loc_offset</td><td>offset of local dimensions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>curvilinear grid X points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>curvilinear grid Y points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">z</td><td>curvilinear grid Z points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cont_plot</td><td>continued plot </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descr</td><td>description </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="output__ops_8f90_source.html#l00949">949</a> of file <a class="el" href="output__ops_8f90_source.html">output_ops.f90</a>.</p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>/opt/PB3D/Modules/<a class="el" href="output__ops_8f90_source.html">output_ops.f90</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<address class="footer"><small>
<center>this documentation was created with <a href="http://www.doxygen.org/index.html">Doxygen 1.8.17</a> by <a href="mailto:weyenst@gmail.com">Toon Weyens</a></center>
</small></address>
</body>
</html>
